version: '3.8'

services:
  halogen-sudo-api:
    build: .
    container_name: halogen-sudo-api
    ports:
      - "8082:8082"
    volumes:
      - /etc/nginx:/etc/nginx
      - /etc/letsencrypt:/etc/letsencrypt
      - /var/www/certbot:/var/www/certbot
      - /home/msuser/nginx-configs:/home/msuser/nginx-configs
      - /home/msuser/nginx-templates:/home/msuser/nginx-templates
    privileged: true
    restart: unless-stopped
    environment:
      - PYTHONPATH=/app
    networks:
      - halogen-network

networks:
  halogen-network:
    external: true
